# ml-hw-02-template

# Описание задания

Реализовать два sklearn пайплайна для предобработки двух наборов данных: NYC Taxi и UK Car Accidents. Эти датасеты опубликованы в Yandex Datasphere. Код для получения доступа к этим данным лежит в блокноте `solution.ipynb`. Вы будете должны склонировать этот репозиторий в корень вашего проекта в Yandex Datasphere.

Пайплайны должны включать:

- предварительную обработку числовых и категориальных признаков, даты и времени, геодезических координат
- выявление и обработку аномалий
- выявление и обработку пропущенных значений
- автоматическое приведение типов признаков

Ваш пайплайны должны принимать на вход сырые данные (исходную таблицу) и преобразовывать их напрямую, без подготовительных операций и вычислений **ВНЕ** него.

Правильно:

```python
target = data['median_house_value']
features = data.drop(['median_house_value'], axis=1)
features_train, features_test, target_train, target_test = train_test_split(features, target, test_size=0.2, random_state=44)

X_train = my_pipeline.fit_transform(features_train)
X_test = my_pipeline.transform(features_train)
```

Неправильно:

```python
target = data['median_house_value']
features = data.drop(['median_house_value'], axis=1)

# так не надо делать!
data['pickup_datetime'] = pd.to_datetime(data['pickup_datetime'])
data['hour'] = data['pickup_datetime'].dt.hour
data = data.dropna(subset=['passenger_count'])
data['trip_distance'] = data['trip_distance'].fillna(data['trip_distance'].median())

features_train, features_test, target_train, target_test = train_test_split(data, target, test_size=0.2, random_state=44)

X_train = my_pipeline.fit_transform(features_train)
```

**От качества предварительной обработки данных в пайплайне будет зависеть результативность обучения моделей в рамках следующих практических занятий.**

# Критерии оценивания

## Обязательные условия

- решение задания находится в блокноте `solution.ipynb`
- надлежащий вид блокнота (наличие текстовых комментариев, заголовков, отсутствие ячеек с нерелевантным кодом, отсутствие трейсбеков с нерешенными ошибками)
- отсутствие подозрений в недобросовестном использовании LLM

Работа, в которой не выполнены обязательные условия, не будет проверяться. У вас есть одна попытка на внесение исправлений. Если исправления не будут внесены, работа будет оценена в ноль (0) баллов.

## Задача №1. NYC Taxi

Это задача может быть оценена в 5 баллов:

- 1 балла – за отсутствие предварительной обработки данных ВНЕ пайплайна
- 1 балл – за предобработку числовых, временных и категориальных признаков
- 1 балл - за поиск и обработку пропусков и аномалий (выбросов)
- 2 балла – за **собственную** реализацию обработки геодезических координат (это может быть `FunctionTransformer` или собственный sklern трансформер); если использована сторонняя библиотека , вы получите 1 балл.

## Задача №2. UK Car Accidents

Это задача может быть оценена в 5 баллов:

- 1 балла – за отсутствие предварительной обработки данных ВНЕ пайплайна
- 1 балл – за предобработку числовых, временных и категориальных признаков
- 1 балл - за поиск и обработку пропусков и аномалий (выбросов)
- 2 балла – за **собственную** реализацию обработки геодезических координат (это может быть `FunctionTransformer` или собственный sklern трансформер); если использована сторонняя библиотека, вы получите 1 балл.

## За что снимаются баллы

* в случае невыполнения одного условия задачи, снимается 1 балл
* в случае сомнительной или неполной реализации шага предобработки может быть снято 0.5 балла по каждому условию задачи
